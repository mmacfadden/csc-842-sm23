Config.alarmSwitchin=function(a){var e=null,l=1,s={},r={},c={},o={SwitchInId:["ID"],SwitchID:["GBID"],SwitchNameDesc:["Name"],RunMode:["RunMode"],IsEnable:["Enabled"]},t=Menu.pageType,m=LAPI_URL.InputSwitch,u=LAPI_URL.InputSwitchLink,d="/LAPI/V1.0/Channel/0/Plan/WeekPlan/InputSwitch",i=["switchOutLi","presetLi","ftpLi","emailLi","storLi","picLi"];return new(Class.extend({init:function(){Utils.loadHtml("smartLinkOutIFrameDiv","/page/common/smart_linkout.76e56953.htm"),Utils.beforeDataLoad(),this.initPage(),Utils.initLang(),this.initValidator(),this.initData(document.frmSetup),Utils.afterDataLoad()},initPage:function(){smartLinkOutIframe.initPage(i),a("#EquipmentType").val(Frame.titleDeviceType),1==t&&(a("#linkOutIFrame").addClass("hidden"),a("#planDiv").addClass("hidden"),a("#switchInTR").addClass("hidden")),this.initSwitchIn()},initData:function(t){if(r={},s={},l=Number(a("#SwitchInId").val()),u="/LAPI/V1.0/IO/InputSwitches/"+ +l+"/LinkageActions",d="/LAPI/V1.0/Channel/"+(l-1)+"/Plan/WeekPlan/InputSwitch",!Utils.LAPI_GetCfgData(m.replace("id",l),r))return Utils.disableAll(),void Frame.showMsg(!1,a.lang.tip.tipGetCfgFail);c=Utils.objectClone(r),Utils.LAPI_CfgToForm("frmSetup",r,s,o),smartLinkOutIframe.initData(u)||(Utils.disableAll(),Frame.showMsg(!1,a.lang.tip.tipGetCfgFail)),Plan.init(d)},initEvent:function(){},submitF:function(){var t,i,n;e.form()&&(l=Number(a("#SwitchInId").val()),Utils.LAPI_FormToCfg("frmSetup",r,s,o),t=!Utils.isObjectEquals(r,c),i=smartLinkOutIframe.IsChanged(),n=Plan.IsChanged(),t||i||n?(n&&(d="/LAPI/V1.0/Channel/"+(l-1)+"/Plan/WeekPlan/InputSwitch",Plan.submitF(d)),i&&(u="/LAPI/V1.0/IO/InputSwitches/"+ +l+"/LinkageActions",smartLinkOutIframe.submitF(u)),t&&Utils.LAPI_SetCfgData(m.replace("id",l),r)&&(c=Utils.objectClone(r))):Frame.showMsg(!0,a.lang.tip.tipAnyChangeInfo,0))},release:function(){delete Config.alarmSwitchin},initSwitchIn:function(){Utils.parseCapOptionsHidden("SwitchInId",Capinfo.switchInArr,"channel")},initValidator:function(){a("#SwitchNameDesc").attr("tip",a.lang.tip.tipName),a("#SwitchID").attr("tip",a.lang.tip.tipSwitchID),a.validator.addMethod("validStrNoNull",function(t){return Utils.validStrNoNull(t)},a.lang.validate.valRequired),a.validator.addMethod("checkCommonNamePwd",function(t){return Utils.checkCommonNamePwd(t)},a.lang.tip.tipCharFmtErr),e=a("#frmSetup").validate({debug:!1,focusInvalid:!1,errorElement:"span",errorPlacement:function(t,i){Utils.showJqueryErr(t,i,"span")},success:function(t){},rules:{SwitchNameDesc:{maxlength:20,validStrNoNull:""},SwitchID:{maxlength:20,checkCommonNamePwd:""}},submitHandler:this.submitF})}}))}(jQuery),Frame.currentNameSpace=Config.alarmSwitchin;