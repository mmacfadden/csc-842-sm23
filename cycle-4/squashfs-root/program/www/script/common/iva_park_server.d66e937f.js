Config.ivaParkServer=function(t){var a=null,e={},r={},n={},l=[{fieldId:"rowNum",fieldType:"RowNum"},{fieldId:"Enable",fieldType:"checkbox"},{fieldId:"HZLFSerial",fieldType:"text"},{fieldId:"IPAddr",fieldType:"text"},{fieldId:"Port",fieldType:"text"},{fieldId:"PreferredDNSServer",fieldType:"text"},{fieldId:"AlternateDNSServer",fieldType:"text"}];return new(Class.extend({init:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initData(),this.initEvent(),this.initValidator(),Utils.afterDataLoad()},initPage:function(){},initData:function(){e={},this.FullMappingMap(),Utils.LAPI_GetCfgData(LAPI_URL.HZLFServerInfo,e)?(Utils.objectClone(e),Utils.LAPI_CfgToForm("frmSetup",e,n,r),this.initDataView()):Utils.disableAll()},initEvent:function(){for(i=0;i<5;i++)t("#IPAddr"+i).change(function(){""==this.value&&(this.value="0.0.0.0")}),t("#PreferredDNSServer"+i).change(function(){""==this.value&&(this.value="0.0.0.0")}),t("#AlternateDNSServer"+i).change(function(){""==this.value&&(this.value="0.0.0.0")})},submitF:function(){for(i=0;i<5;i++)""==t("#IPAddr"+i).val()&&t("#IPAddr"+i).val("0.0.0.0"),""==t("#PreferredDNSServer"+i).val()&&t("#PreferredDNSServer"+i).val("0.0.0.0"),""==t("#AlternateDNSServer"+i).val()&&t("#AlternateDNSServer"+i).val("0.0.0.0");Utils.IsChanged("frmSetup",n)&&a.form()&&(Utils.LAPI_FormToCfg("frmSetup",e,n,r),Utils.LAPI_SetCfgData(LAPI_URL.HZLFServerInfo,e)&&0)},release:function(){delete Config.ivaParkServer},FullMappingMap:function(){for(var e=0;e<5;e++)r["ServerID"+e]=["HZLFServer",e,"ServerID"],r["Enable"+e]=["HZLFServer",e,"Enable"],r["HZLFSerial"+e]=["HZLFServer",e,"HZLFSerial"],r["IPAddr"+e]=["HZLFServer",e,"ServerAddr","IPAddr"],r["Port"+e]=["HZLFServer",e,"ServerAddr","Port"],r["PreferredDNSServer"+e]=["HZLFServer",e,"DNSServerCfg","IpAddr"],r["AlternateDNSServer"+e]=["HZLFServer",e,"DNSServerCfg","IpAddrBak"]},initValidator:function(){var e=0;t.validator.addMethod("isIPAddress",function(e){return Utils.isIPAddress(e)},t.lang.tip.tipIPErr),t.validator.addMethod("checkIP1To223OrEmpty",function(e){return Utils.checkIP1To223OrEmpty(e)},t.lang.tip.tipIPRangeErr),t.validator.addMethod("validStrNoNull",function(e){return Utils.validStrNoNull(e)},t.lang.validate.valRequired),t.validator.addMethod("checkIPAddrOrEmpty",function(e){return Utils.checkIPAddrOrEmpty(e)},t.lang.tip.tipIPErr),t.validator.addMethod("checkSerial",function(e){return Utils.checkCommonNamePwd(e)},t.lang.tip.tipCharFmtErr);for(var r=(a=t("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,r){Utils.showJqueryErr(e,r,"TD")},success:function(e){},rules:{}})).settings.rules;e<5;e++)t("#HZLFSerial"+e).attr("tip",t.lang.tip.tipCommonName.replace("%s","0~16")),t("#IPAddr"+e).attr("tip",t.lang.tip.tipGatewayInfo),t("#Port"+e).attr("tip",t.validator.format(t.lang.tip.tipIntRange,0,65535)),t("#PreferredDNSServer"+e).attr("tip",t.lang.tip.tipGatewayInfo),t("#AlternateDNSServer"+e).attr("tip",t.lang.tip.tipGatewayInfo),r["HZLFSerial"+e]={maxlength:16,checkSerial:""},r["IPAddr"+e]={checkIPAddrOrEmpty:"",checkIP1To223OrEmpty:""},r["Port"+e]={required:!0,integer:!0,range:[0,65535]},r["PreferredDNSServer"+e]={checkIPAddrOrEmpty:"",checkIP1To223OrEmpty:""},r["AlternateDNSServer"+e]={checkIPAddrOrEmpty:"",checkIP1To223OrEmpty:""};a.init()},initDataView:function(){new TableView("dataview_tbody",this.getServerDataviewList,l,5).createDataView()},getServerDataviewList:function(){for(var e,r=[],t=0;t<5;t++)(e={}).ServerID=n["ServerID"+t],e.Enable=n["Enable"+t],e.HZLFSerial=n["HZLFSerial"+t],e.IPAddr=n["IPAddr"+t],e.Port=n["Port"+t],e.PreferredDNSServer=n["PreferredDNSServer"+t],e.AlternateDNSServer=n["AlternateDNSServer"+t],r.push(e);return r}}))}(jQuery),Frame.currentNameSpace=Config.ivaParkServer;