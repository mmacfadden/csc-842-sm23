Config.OperateStream=function(a){var i=[{fieldId:"SessionID",hidden:!0},{fieldId:"StreamID"},{fieldId:"TransMode"},{fieldId:"IPAddr"},{fieldId:"Port"},{fieldId:"Reserved"},{fieldId:"option",fieldType:"option",defineContextFn:function(){return"<a href='#' class='icon black-del' rowNum=rowNum onclick='this.blur();Config.OperateStream.removeData($(this).attr(\"rowNum\"));' title='"+a.lang.pub.del+"'></a>"}}],n={StreamID:["Src","StreamID"],IPAddr:["Dest","Address"],Port:["Dest","Port"],TransMode:["TransMode"],Reserved:["IsReservedAfterReboot"],SessionID:["ID"]};return new(Class.extend({streamList:[],dataView:null,mappingMap:n,init:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initDataView(),Utils.afterDataLoad()},initPage:function(){},initData:function(){},initEvent:function(){},submitF:function(){},release:function(){delete Config.OperateStream},removeData:function(e){var t=this.dataView.getData(e,"StreamID"),e=this.dataView.getData(e,"SessionID");Utils.LAPI_DelCfgData(LAPI_URL.STREAM_CFG+t+"/Streamings/"+e,{})?(this.dataView.refresh(),this.setStyle()):alert(a.lang.tip.tipDeleteFailed)},getData:function(){var e,t,a=[],i={};if(Utils.LAPI_GetCfgData(LAPI_URL.STREAM_CFG+"Streamings",i)){for(e=0;e<i.Num;e++)t={},Utils.changeMapToMapByMapping(i.StreamingInfos[e],n,t,0),a.push(t);return a}Utils.disableAll()},initDataView:function(){var e={};if(Utils.LAPI_GetCfgData(LAPI_URL.VideoEncode,e)){for(var t=0;t<Capinfo.maxStreamNum;t++)0==e.VideoStreamInfos[t].Enabled&&this.streamList.push(t);this.dataView=new TableView("dataview_tbody",this.getData,i),this.dataView.setFields({StreamID:function(e){return Capinfo.isSupportFishEye?7==(e=5==(e=4==(e=3==(e=2==(e=1==(e=0==e?a.lang.pub.roleVideoStream:e)?a.lang.pub.streamID7:e)?a.lang.pub.streamID3:e)?a.lang.pub.streamID4:e)?a.lang.pub.streamID5:e)?a.lang.pub.streamID6:e)&&(e=a.lang.pub.metaDataStream):Capinfo.isSupport4KFishEye?7==(e=6==(e=5==(e=4==(e=3==(e=2==(e=1==(e=0==e?a.lang.pub.mainVideoStream:e)?a.lang.pub.roleVideoStream:e)?a.lang.pub.thirdVideoStream:e)?a.lang.pub.streamID3:e)?a.lang.pub.streamID4:e)?a.lang.pub.streamID5:e)?a.lang.pub.streamID6:e)&&(e=a.lang.pub.streamID7):7==(e=3==(e=2==(e=1==(e=0==e?a.lang.pub.mainVideoStream:e)?a.lang.pub.roleVideoStream:e)?a.lang.pub.thirdVideoStream:e)?a.lang.pub.photoStream:e)&&(e=a.lang.pub.metaDataStream),e},TransMode:function(e){return e=0==e||4==e?"UDP":13==e?"RTMP":"TCP"},Reserved:function(e){return e=1==(e=0==e?a.lang.pub.no:e)?a.lang.pub.yes:e},Port:function(e){return e=0==e?a.lang.pub.isPortWorkTypeNone:e},IPAddr:function(e){return e=38<(e=e.split("?")[0]).length?e.slice(0,38)+"...":e}}),this.dataView.createDataView(),this.setStyle()}else Utils.disableAll()},addStream:function(){Utils.openWin(a.lang.pub.addStream,"/page/common/stream_edit.d280bec8.htm",500,300,!1)},setStyle:function(){var t=this;a("td[id ^= 'IPAddr']").each(function(e){a(this).prop({title:t.getData()[e].IPAddr.split("?")[0]})})}}))}(jQuery),Frame.currentNameSpace=Config.OperateStream;