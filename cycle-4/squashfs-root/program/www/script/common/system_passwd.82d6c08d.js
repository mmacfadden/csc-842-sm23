Config.system_passwd=function(i){var t=[{fieldId:"rowNum",fieldType:"RowNum"},{fieldId:"Name"},{fieldId:"Level"}];return new(Class.extend({jsonMap:{},userMap:{},type:0,UserDataView:null,init:function(){},init2:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initData(),this.initEvent(),Utils.afterDataLoad()},initData:function(){var e=this.getData;this.UserDataView=new TableView("dataview_tbody",e,t),this.UserDataView.setFields({Level:function(e){var t="";return 0==e?t=i.lang.pub.admin:1==e?t=i.lang.pub.operator:2==e?t=i.lang.pub.commonUser:3==e?t=i.lang.pub.anonymousUser:4==e&&(t=i.lang.pub.extendedUser),t}}),this.UserDataView.createDataView()},initEvent:function(){var e=this;i("#add").bind("click",function(){e.editUserInfo(0)}),i("#modify").bind("click",function(){e.editUserInfo(1)}),i("#del").bind("click",function(){e.delUser()})},release:function(){delete Config.system_passwd},editUserInfo:function(e){var t=0==(this.type=e)?i.lang.pub.add:i.lang.pub.modify;if(1==e){if(-1==this.UserDataView.currectRow)return void Frame.showMsg(!0,i.lang.tip.tipEditUser,0);this.userMap=this.jsonMap.Users[this.UserDataView.currectRow]}else{if(32==this.jsonMap.Users.length)return void Frame.showMsg(!0,i.lang.tip.tipUserMax,0);this.userMap={}}Frame.opener=this,Utils.openWin(t,"/page/common/userinfo_edit.2b99b596.htm?id=userInfo",520,450,!1,"302","140",!0)},delUser:function(){var e,t=this;-1!=t.UserDataView.currectRow?0!=t.UserDataView.currectRow?confirm(i.lang.tip.tipConfirmDel)&&(e=t.UserDataView.getData(t.UserDataView.currectRow,"ID"),Utils.LAPI_DelCfgData(LAPI_URL.Users_Cfg+"/Users/"+e,{})&&t.UserDataView.refresh()):Frame.showMsg(!0,i.lang.tip.tipDelUserErr,0):Frame.showMsg(!0,i.lang.tip.tipSelectDelData,0)},getData:function(){if(Config.system_passwd.jsonMap={},Utils.LAPI_GetCfgData(LAPI_URL.Users_Cfg,Config.system_passwd.jsonMap))return Config.system_passwd.jsonMap.Users;Utils.disableAll()}}))}(jQuery),Config.system_passwd.init2(),Frame.currentNameSpace=Config.system_passwd;