Config.UNP=function(t){var i=null,a={},r={},n={},l={UNPEnable:["Enable"],UNPAddress:["Address"],UNPIdentify:["Identify"],UNPUserName:["UserName"],Interface:["Interface"]},P=!1,s="@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@";return new(Class.extend({init:function(){Utils.beforeDataLoad(),this.initPage(),Utils.initLang(),t.validator.addMethod("checkCommonNamePwd",function(e){return Utils.checkCommonNamePwd(e)},t.lang.tip.tipCharFmtErr),t("#UNPAddress").attr("tip",t.lang.tip.tipGatewayInfo),t("#UNPUserName").attr("tip",t.lang.tip.tipCommonNamePwd),t("#UNPPassword").attr("tip",t.lang.tip.tipCommonNamePwd),t.validator.addMethod("checkIPAddrOrEmpty",function(e){return Utils.checkIPAddrOrEmpty(e)},t.lang.tip.tipIPErr),t.validator.addMethod("checkIP1To223OrEmpty",function(e){return Utils.checkIP1To223OrEmpty(e)},t.lang.tip.tipIPRangeErr),i=t("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,t){Utils.showJqueryErr(e,t,"div")},success:function(){},rules:{UNPAddress:{checkIPAddrOrEmpty:"",checkIP1To223OrEmpty:""},UNPUserName:{checkCommonNamePwd:""},UNPPassword:{checkCommonNamePwd:""}}}),this.initEvent(),this.initData(document.frmSetup),Utils.afterDataLoad()},initPage:function(){Capinfo.isSupportNet4G&&t("#Interface").append("<option value= 1>4G</option>")},initEvent:function(){t("#UNPAddress").change(function(){var e=t("#UNPAddress");""==e.val()&&e.val("0.0.0.0")})},release:function(){delete Config.UNP},initUNPPwdChanged:function(e){P||(t("#"+e).val(""),P=!0)},submitF:function(){var e=document.frmSetup;i.form()&&(0==e.UNPAddress.value.length&&(e.UNPAddress.value="0.0.0.0"),Utils.LAPI_FormToCfg("frmSetup",a,r,l),Utils.isObjectEquals(a,n)&&!P||(P&&(a.RSAPublicKey={},a.RSAPublicKey.RSAPublicKeyE=Frame.RSAPublicKeyE,a.RSAPublicKey.RSAPublicKeyN=Frame.RSAPublicKeyN,a.Password=Utils.encrypting(t("#UNPPassword").val(),Frame.RSAKey)),Utils.LAPI_SetCfgData(LAPI_URL.UNP_Cfg,a,!1,this.callBack)))},callBack:function(e){ResultCode.RESULT_CODE_SUCCEED==e?(P&&(delete a.RSAPublicKey,delete a.Password),n=Utils.objectClone(a),P=!1,t("#UNPPassword").val(s),Frame.showMsg(!0)):ResultCode.RESULT_CODE_UNPPPPOE_CONFLICT==e?Frame.showMsg(!1,t.lang.tip.tipUnpPppoeConfict):ResultCode.RESULT_RASPUBLICKEY_AUTH_ERR==e?(e={},Utils.LAPI_GetCfgData(LAPI_URL.SecurityRSA,e)&&(setMaxDigits(130),Frame.RSAPublicKeyE=e.RSAPublicKeyE,Frame.RSAPublicKeyN=e.RSAPublicKeyN,Frame.RSAKey=new RSAKeyPair(Frame.RSAPublicKeyE,"",Frame.RSAPublicKeyN),a.RSAPublicKey={},a.RSAPublicKey.RSAPublicKeyE=Frame.RSAPublicKeyE,a.RSAPublicKey.RSAPublicKeyN=Frame.RSAPublicKeyN,a.Password=Utils.encrypting(t("#UNPPassword").val(),Frame.RSAKey),Utils.LAPI_SetCfgData(LAPI_URL.UNP_Cfg,a,!1,Config.UNP.callBack))):Frame.showMsg(!1,t.lang.tip.tipSetCfgFail)},initData:function(e){if(a={},e.UNPPassword.value=s,!Utils.LAPI_GetCfgData(LAPI_URL.UNP_Cfg,a))return Frame.showMsg(!1,t.lang.tip.tipGetCfgFail),void Utils.disableAll();n=Utils.objectClone(a),Utils.LAPI_CfgToForm("frmSetup",a,r,l)}}))}(jQuery),Frame.currentNameSpace=Config.UNP;