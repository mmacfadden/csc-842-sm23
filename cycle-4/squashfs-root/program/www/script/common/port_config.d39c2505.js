Config.port_config=function(n){var t,o,r={},i={HttpPort:["HttpPort"],HttpsPort:["HttpsPort"],RtspPort:["RtspPort"]};return new(Class.extend({init:function(){Utils.beforeDataLoad(),this.initPage(),Utils.initLang(),this.initValidator(),this.initData(),Utils.afterDataLoad()},initPage:function(){Capinfo.isSupportHttps&&n("#HttpsDiv").removeClass("hidden")},initData:function(){t={},o={},Utils.LAPI_GetCfgData(LAPI_URL.Port_Cfg,o)&&(r=Utils.objectClone(o),Utils.LAPI_CfgToForm("frmSetup",o,t,i))},initEvent:function(){},submitF:function(){validator.form()&&(Utils.LAPI_FormToCfg("frmSetup",o,t,i),Utils.isObjectEquals(o,r)?Frame.showMsg(!0,n.lang.tip.tipAnyChangeInfo,0):this.needRebootOrNot()?confirm(n.lang.tip.tipModifyPortReboot)&&Utils.LAPI_SetCfgData(LAPI_URL.Port_Cfg,o)&&(r=Utils.objectClone(o),Frame.updateBlock(!0,n.lang.tip.tipRebooting),Frame.PageBlockType=BlockType.REBOOT,Video.isSleepReplay=!0,top.showedFlag=!1):Utils.LAPI_SetCfgData(LAPI_URL.Port_Cfg,o)&&(r=Utils.objectClone(o)))},release:function(){delete Config.port_config},initValidator:function(){var o=this;n("#HttpsPort").attr("tip",n.validator.format(n.lang.tip.tipIntRange,1,65535)),n("#HttpPort").attr("tip",n.validator.format(n.lang.tip.tipIntRange,1,65535)),n("#RtspPort").attr("tip",n.validator.format(n.lang.tip.tipIntRange,1,65535)),n.validator.addMethod("portNotSame",function(t){return o.validatePortNotSame(t)},n.lang.tip.tipPortExist),n.validator.addMethod("portNotInBlack",function(t){return o.validPortNotInBlackList(t)},n.lang.tip.tipPortConflict),n.validator.addMethod("checkPortConflict",function(t){return o.checkPortConflict(t)},n.lang.tip.tipPortConflict),validator=n("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(t,o){Utils.showJqueryErr(t,o,"div")},success:function(t){},rules:{HttpsPort:{integer:!0,required:!0,range:[1,65535],portNotSame:"",portNotInBlack:"",checkPortConflict:""},HttpPort:{integer:!0,required:!0,range:[1,65535],portNotSame:"",portNotInBlack:"",checkPortConflict:""},RtspPort:{integer:!0,required:!0,range:[1,65535],portNotSame:"",portNotInBlack:"",checkPortConflict:""}}}),validator.init()},needRebootOrNot:function(){return!(o.RtspPort==r.RtspPort)},validatePortNotSame:function(t){var o=[],r=0;o.push(n("#RtspPort").val()),o.push(n("#HttpsPort").val()),o.push(n("#HttpPort").val());for(var i=0;i<o.length;i++)t==o[i]&&r++;return r<=1},validPortNotInBlackList:function(t){for(var o=[23,81,82,85,3260,49152],r=0;r<o.length;r++)if(t==o[r])return!1;return!0},checkPortConflict:function(t){return Utils.LAPI_SetCfgData(LAPI_URL.CheckPort,{Port:Number(t)},!1)}}))}(jQuery),Frame.currentNameSpace=Config.port_config;