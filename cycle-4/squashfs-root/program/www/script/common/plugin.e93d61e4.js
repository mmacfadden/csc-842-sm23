!function(){var r=!1,o=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(t){var s=this.prototype;r=!0;var e,n=new this;for(e in r=!1,t)n[e]="function"==typeof t[e]&&"function"==typeof s[e]&&o.test(t[e])?function(n,i){return function(){var t=this._super;this._super=s[n];var e=i.apply(this,arguments);return this._super=t,e}}(e,t[e]):t[e];function i(){!r&&this.init&&this.init.apply(this,arguments)}return((i.prototype=n).constructor=i).extend=arguments.callee,i}}();var Player=Class.extend({id:"player",eventname:"plgnevent",prefix:"__",maxWnd:1,focusColor:parseInt("ffcc33",16),unfocusColor:parseInt("666666",16),backgColor:parseInt("222222",16),isInstalled:!1,init:function(t){return this.eventObj=$("#"+t.container),undefined!==t.prefix&&(this.prefix=t.prefix),undefined!==t.clsid&&(this.clsid=t.clsid),undefined!==t.application&&(this.application=t.application),undefined!==t.version&&(this.version=t.version),undefined!==t.maxWnd&&(this.maxWnd=t.maxWnd),undefined!==t.focusColor&&(this.focusColor=parseInt(t.focusColor,16)),undefined!==t.unfocusColor&&(this.unfocusColor=parseInt(t.unfocusColor,16)),undefined!==t.backgColor&&(this.backgColor=parseInt(t.backgColor,16)),undefined!==t.noCreateWnd?(this.h="1",this.w="1"):(this.h="100%",this.w="100%"),undefined!==window.ActiveXObject?this.loadActivex(t):this.loadNpapi(t),this.on(t),this.onInit(t),this},loadActivex:function(t){return this.eventObj.html("<object  classid='clsid:"+this.clsid+"' id='"+t.id+"' class='plugin.e93d61e4' height= "+this.h+"  width = "+this.w+"  events='true'></object>"),this.obj=document.getElementById(t.id),this.parseHostname(t),this.onActivexLoad(t),this},setParam:function(t,e,n,i,s,r,o,c,u,a){return JSON2.stringify([t,e,n,i,s,r,o,c,u,a])},execFunction:function(t,e,n,i,s,r,o,c,u,a,h){h=this.setParam(e,n,i,s,r,o,c,u,a,h),h=$.parseJSON(this.obj.NetSDKExecFun(t,h));return 0!==h.code?h.code:h.result},execFunctionReturnAll:function(t,e,n,i,s,r,o,c,u,a,h){if(!this.isInstalled||"undefined"==typeof this.obj)return{code:0};h=this.obj.NetSDKExecFun(t,this.setParam(e,n,i,s,r,o,c,u,a,h));return""==h?{code:0}:$.parseJSON(h)},onActivexLoad:function(t){return this.addActivexBehaviors(t)},addActivexBehaviors:function(t){try{undefined===this.noCreateWnd&&this.execFunction("NetSDKCreateWnd",this.maxWnd,this.focusColor,this.unfocusColor,this.backgColor),this.execFunction("NetSDKInitOCX",t.szDeviceIp)}catch(e){}var s;return undefined===this.obj.attachEvent?this.attachIE11Event(t.id,"NetSDKRUNINFO",t.name+".trigger(p1, p2, p3, p4);"):this.obj.attachEvent("NetSDKRUNINFO",(s=this,function(t,e,n,i){s.trigger(t,e,n,i)})),this},attachIE11Event:function(t,e,n){var i,s=n.match(/\(\)|\(.+\)/)[0],n=n.match(/^([^(\s]+)/)[1];try{(i=document.createElement("script")).setAttribute("for",t)}catch(r){i=document.createElement('<script for="'+t+'">')}return i.event=e+s,i.appendChild(document.createTextNode(n+s+";")),this.eventObj.get(0).appendChild(i),this},loadNpapi:function(t){this.eventObj.html("<embed type='application/"+this.application+"' id='"+t.id+"' class='plugin.e93d61e4'  height='"+this.h+"' width = '"+this.w+"'/>"),this.obj=document.getElementById(t.id),this.parseHostname(t),this.onNpapiLoad(t);try{undefined===this.noCreateWnd&&this.execFunction("NetSDKCreateWnd",this.maxWnd,this.focusColor,this.unfocusColor,this.backgColor),this.execFunction("NetSDKInitOCX",t.szDeviceIp),this.obj.NetSDKNPSetEventFunc(t.name+".trigger")}catch(e){}return this},onNpapiLoad:function(t){return this},parseHostname:function(t){},onInit:function(t){return this},unInit:function(){if(!this.isInstalled||"undefined"==typeof this.obj)return this;this.beforeUninit();try{this.execFunction("NetSDKUninitOCX")}catch(t){}return this.eventObj.hide().get(0).removeChild(this.obj),delete this.obj,this},beforeUninit:function(){return this},trigger:function(t,e,n,i){return this.eventObj.trigger(this.eventname,[t,e,n,i]),this},on:function(t){var r=this;if(undefined===t.events)return this;var o=t.events;return this.eventObj.bind(r.eventname,function(t,e,n,i,s){return undefined===o||undefined===o[r.prefix+e]||void o[r.prefix+e](n,i,s)}),this},focus:function(){try{this.execFunction("NetSDKActiveWnd")}catch(t){}return this},check:function(t){if(Static.ErrorCode.ERR_COMMON_SUCCEED!==t)throw t},getVersion:function(){var t=null;try{t=this.execFunction("NetSDKGetVersion")}catch(e){t=null}return t},checkVersion:function(){var t=this.getVersion();if(null===t)return null;this.isInstalled=!0;var e=t.split("."),n=this.version.split(".");if(4!=e.length)return!1;for(var i=0;i<4;i++)if(e[i]=parseInt(e[i],10),n[i]=parseInt(n[i],10),e[i]!=n[i]){if(e[i]>n[i])return!0;if(e[i]<n[i])return!1}return!0},createTip:function(){var t="ActiveX/",e="ActiveX/";return Utils.isWin64Platform()?isUN?t+"WebPlayer.exe":t+"Surveillance.exe":Capinfo.isMac?isUN?e+"WebPlayer.dmg":e+"Surveillance.dmg":"/ActiveX/WebPlayer.exe"}});