Utils.$package("preset_edit.d4d253b4"),preset_edit=function(r){return new(Class.extend({init:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initValidator()},initPage:function(){},initData:function(){},initEvent:function(){},submitF:function(){},release:function(){},submitWinData:function(){var e={},t=r("#PresetNum"),a=r("#MotionPresetNum"),i=t.val();validator.form()&&(Utils.LAPI_FormToCfg("frmSetupPreset",e,{presetId:0,presetName:""},{presetId:["ID"],presetName:["Name"]}),Utils.LAPI_CreateCfgData(LAPI_URL.PresetList,e)?(Video.resetCombox(),Live.freshPreset&&Live.freshPreset(),r("#presetTR").is(":visible")&&(alarmLinkout.makePresetList(),t.val(i)),a.is(":visible")&&(i=a.val(),Frame.currentNameSpace.generalPresetOption(),a.val(i)),Utils.closeWin()):Frame.showMsg(!1,r.lang.tip.tipAddPresetFailed))},validPresetNumber:function(e){return!(e<Frame.startPresetID||e>Frame.endPresetID)},initValidator:function(){var t=this;r("#presetName").attr("tip",r.lang.tip.tipPresetName),r("#presetId").attr("tip",r.validator.format(r.lang.tip.tipIntRange,Frame.startPresetID,Frame.endPresetID)),r.validator.addMethod("validStrNoNull",function(e){return Utils.validStrNoNull(e)},r.lang.tip.tipValueCanotNull),r.validator.addMethod("validNameNoNull",function(e){return Utils.validStrNoNull(e)},r.lang.tip.tipNameCanotNull),r.validator.addMethod("NameInvalidChar",function(e){return Utils.validNameContent(e)},r.lang.tip.tipNameInvalidChar),r.validator.addMethod("validPresetNumber",function(e){return t.validPresetNumber(e)},r.validator.format(r.lang.tip.tipIntRange,Frame.startPresetID,Frame.endPresetID)),validator=r("#frmSetupPreset").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,t){Utils.showJqueryErr(e,t,"span","preset_editDiv")},success:function(){},rules:{presetName:{validNameNoNull:"",NameInvalidChar:""},presetId:{integer:!0,validStrNoNull:"",validPresetNumber:""}}}),validator.init()}}))}(jQuery),Frame.openWinNameSpace=preset_edit;