Config.clientSettings=function(o){var i=null,t={};return new(Class.extend({init:function(){Utils.beforeDataLoad(),this.initPage(),Utils.initLang(),this.initEvent(),this.initData(),this.initValidator(),Utils.afterDataLoad()},initPage:function(){Video.sdk_viewer&&!Video.sdk_viewer.isInstalled?(o(".submit_btn").prop("disabled","disabled"),o("#unInstallTip").removeClass("hidden")):(o(".submit_btn").prop("disabled",!1),o("#unInstallTip").addClass("hidden")),o("#videoParamFst").removeClass("hidden"),o("#recordParamFst").removeClass("hidden"),Capinfo.isSupportPhotoCfg&&(o("#photoCfg").removeClass("hidden"),o("#snappic").removeClass("hidden")),Capinfo.isSupportAudio&&o("#audiocfg").removeClass("hidden"),(Capinfo.isSupportIVA&&IVAMode.TG!=Frame.IVAType||IVADeviceMode.SMART==Capinfo.IVADeviceType||Capinfo.isSupportsystemSetUpLink)&&o("#IntelligentMark").removeClass("hidden"),this.initVideoFormatOption()},initData:function(){if(top.sdk_viewer.isInstalled){var e=Video.NetSDKGetConfig(Video);if(0!=e.code)return void Utils.disableAll();2==(t=o.parseJSON(e.result)).Fluency&&(t.Fluency=0),Utils.cfgToForm(t,"frmSetup")}this.AudioEncformat_change(),o("#AudioCodeRate").val(t.AudioCodeRate),this.RecordWebInfo_change()},initEvent:function(){var e=this;o("#AudioCodeFmt").change(function(){e.AudioEncformat_change()}),o("#RecordSectType").change(function(){e.RecordSectType_change()}),o("#openDefaultPath").bind("click",function(){Video.sdk_viewer.execFunction("NetSDKOpenFloder",o("#DefaultPath").val())})},submitF:function(){var e;Utils.IsChanged("frmSetup",t)&&i.form()&&(Utils.formToCfg("frmSetup",t),e=Video.NetSDKSetConfig(Video,t),Frame.showMsg(0==e.code),e=0==o("#UntriggeredTarget").val()?11:15,Video.NetSDKEnableIvaDraw(Video,Video.currentWndID,1,e))},release:function(){delete Config.clientSettings,delete Config.clientSettings},AudioEncformat_change:function(){var e=o("#AudioCodeFmt").val(),t=o("#AudioCodeRate");2==e?(t.html(" <option value='2'>11.025</option>"),t.val(2)):0==e?(t.html(" <option value='0'>8</option>"),t.val(0)):1==e&&t.html(" <option value='0'>8</option><option value='1'>16</option>"),t.prop("disabled",1!=e)},initVideoFormatOption:function(){for(var e=Capinfo.audioFormatArr,t="",i=0;i<e.length;i++)switch(Number(e[i])){case 2:t+="<option value='0'>G.711U</option>";break;case 6:t+="<option value='1'>AAC-LC</option>";break;case 7:t+="<option value='2'>PCM</option>"}o("#AudioCodeFmt").append(t)},RecordWebInfo_change:function(){var e=o("#RecordSectType").val();1==e?(o("#RecordSubName").html(o.lang.pub.recordsectime),o("#InputRange").html("[1-60]")):2==e&&(o("#RecordSubName").html(o.lang.pub.recordsecsize),o("#InputRange").html("[10-1024]")),Utils.strLimit()},RecordSectType_change:function(){this.RecordWebInfo_change();var e=o("#RecordSectType").val();1==e?o("#RecordSectValue").val("30"):2==e&&o("#RecordSectValue").val("100"),this.initValidator()},initValidator:function(){o("#RcdTotalCap").attr("tip",o.validator.format(o.lang.tip.tipIntRange,1,1024)),i=o("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,t){Utils.showJqueryErr(e,t,"div")},success:function(){},rules:{RcdTotalCap:{integer:!0,required:!0,range:[1,1024]}}});var e=1,t=60;2==o("#RecordSectType").val()&&(e=10,t=1024),o("#RecordSectValue").attr("tip",o.validator.format(o.lang.tip.tipIntRange,e,t)),i.settings.rules.RecordSectValue={integer:!0,required:!0,range:[e,t]},i.init()}}))}(jQuery),Frame.currentNameSpace=Config.clientSettings;