Config.OperateMulticast=function(r){var a={},n={},s={},i=null,d={};return new(Class.extend({streamOpenList:[],init:function(){Utils.beforeDataLoad(),this.initPage(),Utils.initLang(),this.initValidator(),this.initEvent(),this.initData(),Utils.afterDataLoad()},initPage:function(){},initData:function(){var e={};if(Utils.LAPI_GetCfgData(LAPI_URL.RTSPMulticastAddr,n))if(Utils.LAPI_GetCfgData(LAPI_URL.VideoEncode,e)){for(var t=0;t<Capinfo.maxStreamNum;t++)1==e.VideoStreamInfos[t].Enabled?this.streamOpenList.push(1):this.streamOpenList.push(0);this.mappingMapFn(),Utils.LAPI_CfgToForm("frmSetup",n,a,d),s=Utils.objectClone(n),this.changeDisplayText()}else Utils.disableAll();else Utils.disableAll()},initEvent:function(){},submitF:function(){i.form()&&(Utils.LAPI_FormToCfg("frmSetup",n,a,d),Utils.isObjectEquals(n,s)?Frame.showMsg(!0,r.lang.tip.tipAnyChangeInfo,0):Utils.LAPI_SetCfgData(LAPI_URL.RTSPMulticastAddr,n)&&(s=Utils.objectClone(n)))},release:function(){Frame.currentNameSpace=""},initValidator:function(){for(var e,t=this,a=0;a<6;a++)r("#Port"+a).attr("tip",r.validator.format(r.lang.tip.tipIntRange,0,65535));for(r(".ipAddre").attr("tip",r.lang.tip.tipMulticastIPRange),r.validator.addMethod("checkMul",function(e){return t.checkMulAddr(e)},r.lang.tip.tipMulticastIPRangeErr),e=(i=r("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,t){Utils.showJqueryErr(e,t,"div")},success:function(){},rules:{Port0:{integer:!0,required:!0,range:[0,65535]},Port1:{integer:!0,required:!0,range:[0,65535]},Port2:{integer:!0,required:!0,range:[0,65535]},Port3:{integer:!0,required:!0,range:[0,65535]},Port4:{integer:!0,required:!0,range:[0,65535]},Port5:{integer:!0,required:!0,range:[0,65535]}}})).settings.rules,a=0;a<6;a++)e["IPAddr"+a]={checkMul:""};i.init()},mappingMapFn:function(){var e;for(d={},e=0;e<n.Nums;e++)d["streamId"+e]=["Params",e,"StreamID"],d["IPAddr"+e]=["Params",e,"Address"],d["Port"+e]=["Params",e,"Port"]},checkMulAddr:function(e){if("0.0.0.0"==e)return 1;if(!Utils.isIPAddress(e))return 0;var t=e.split("."),a=t[0],e=t[1],t=t[2];return a<224||239<a||224==a&&0==e&&t<1?0:1},changeDisplayText:function(){var e;for(6==n.Nums?(r("#streamId0").text(r.lang.pub.roleVideoStream),r("#streamId1").text(r.lang.pub.streamID7),r("#streamId2").text(r.lang.pub.streamID3),r("#streamId3").text(r.lang.pub.streamID4),r("#streamId4").text(r.lang.pub.streamID5),r("#streamId5").text(r.lang.pub.streamID6)):8==n.Nums?(r("#streamId0").text(r.lang.pub.mainVideoStream),r("#streamId1").text(r.lang.pub.roleVideoStream),r("#streamId2").text(r.lang.pub.thirdVideoStream),r("#streamId3").text(r.lang.pub.streamID3),r("#streamId4").text(r.lang.pub.streamID4),r("#streamId5").text(r.lang.pub.streamID5),r("#streamId6").text(r.lang.pub.streamID6),r("#streamId7").text(r.lang.pub.streamID7)):(r("#streamId0").text(r.lang.pub.mainVideoStream),r("#streamId1").text(r.lang.pub.roleVideoStream),r("#streamId2").text(r.lang.pub.thirdVideoStream)),e=0;e<n.Nums;e++)8==n.Nums?LensPlayMode.PLAYER_ORIGINAL==Variables.PlayMode?(r("#streamId0").parent().parent().removeClass("hidden"),r("#streamId1").parent().parent().removeClass("hidden"),r("#streamId2").parent().parent().removeClass("hidden")):LensPlayMode.PLAYER_FISH_LEFT_4PTZ==Variables.PlayMode?(r("#streamId1").parent().parent().removeClass("hidden"),r("#streamId3").parent().parent().removeClass("hidden"),r("#streamId4").parent().parent().removeClass("hidden"),r("#streamId5").parent().parent().removeClass("hidden"),r("#streamId6").parent().parent().removeClass("hidden")):LensPlayMode.PLAYER_PANORAMA==Variables.PlayMode&&(r("#streamId1").parent().parent().removeClass("hidden"),r("#streamId7").parent().parent().removeClass("hidden")):this.streamOpenList[e]&&r("#streamId"+e).parent().parent().removeClass("hidden");if(Capinfo.isSupportCapture&&IVAMode.ILLEGAL!=Frame.IVAType)for(e=1;e<n.Nums;e++)r("#streamId"+e).parent().parent().addClass("hidden")}}))}(jQuery),Frame.currentNameSpace=Config.OperateMulticast;