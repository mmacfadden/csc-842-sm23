Config.alarmTamperDetect=function(a){var n,r=null,l={},s={},o={},u={Enable1:["Enabled"],Sensitivity1:["Sensitivity"],Duration1:["Duration"]},m={Sensitivity1:{sliderId:"SensitivitySld",barId:"SensitivityBar",minValue:1,maxValue:100,sld:null}},t=["switchOutLi","presetLi","ftpLi","emailLi","storLi","picLi"];return new(Class.extend({init:function(){Utils.loadHtml("smartLinkOutIFrameDiv","/page/common/smart_linkout.76e56953.htm"),Utils.beforeDataLoad(),this.initPage(),this.initEvent(),Utils.initLang(),this.initValidator(),this.initData(),Utils.afterDataLoad()},initPage:function(){smartLinkOutIframe.initPage(t),LoginType.VM_LOGIN==Frame.loginType&&(a("#linkOutIFrame").addClass("hidden"),a("#planDiv").addClass("hidden"),a("#submitBtn").remove()),this.initSlider()},initData:function(){l={},s={},Utils.LAPI_GetCfgData(LAPI_URL.TamperDetect,s)?(o=Utils.objectClone(s),Utils.LAPI_CfgToForm("frmSetup",s,l,u),this.setSliderValue(),smartLinkOutIframe.initData(LAPI_URL.TamperDetectLink)||(Utils.disableAll(),Frame.showMsg(!1,a.lang.tip.tipGetCfgFail)),Plan.init(LAPI_URL.WeekPlan+"TamperDetect")):Utils.disableAll()},initEvent:function(){var t=this;LoginType.VM_LOGIN==Frame.loginType&&(a("input[name='Enable1']").bind("click",function(){t.submitF()}),a("#Sensitivity1").change(function(){t.submitF()}),a("#Duration1").change(function(){t.submitF()}))},submitF:function(){var t,i,e;r.form()&&(Utils.LAPI_FormToCfg("frmSetup",s,l,u),t=!Utils.isObjectEquals(s,o),i=smartLinkOutIframe.IsChanged(),e=Plan.IsChanged(),t||i||e?(e&&Plan.submitF(LAPI_URL.WeekPlan+"TamperDetect"),i&&smartLinkOutIframe.submitF(LAPI_URL.TamperDetectLink),t&&Utils.LAPI_SetCfgData(LAPI_URL.TamperDetect,s)&&(o=Utils.objectClone(s))):Frame.showMsg(!0,a.lang.tip.tipAnyChangeInfo,0))},release:function(){delete Config.alarmTamperDetect},initSlider:function(){for(var t in m){var i=m[t],e=new Slider(i.sliderId,i.barId,{onMove:function(){n||a("#"+this.textId).val(Math.round(this.GetValue()))},onDragStop:function(){var t=a("#"+this.textId)[0];t.focus(),t.blur()}});e.textId=t,e.MinValue=i.minValue,e.MaxValue=i.maxValue,i.sld=e}},setSliderValue:function(){for(var t in m){var i=m[t].sld,t=isNaN(l.Sensitivity1)?1:Number(l.Sensitivity1);n=!0,i.SetValue(t),n=!1}},onSliderChanged:function(t){var i=m[t.id];r.check(t)&&(i.sld.SetValue(t.value),n=!1)},initValidator:function(){var t=10;Capinfo.isLandSide&&(t=300),a("#Sensitivity1").attr("tip",a.validator.format(a.lang.tip.tipIntRange,1,100)),a("#Duration1").attr("tip",a.validator.format(a.lang.tip.tipIntRange,1,t)),(r=a("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(t,i){Utils.showJqueryErr(t,i,"div")},success:function(t){},rules:{Sensitivity1:{integer:!0,required:!0,range:[1,100]},Duration1:{integer:!0,required:!0,range:[1,t]}}})).init()}}))}(jQuery),Frame.currentNameSpace=Config.alarmTamperDetect;