Config.Navigation=function(u){var e,a="",d={},p=["regFail","regSucceed","untapped"],v=["regFail","regSucceed","untapped"],l=["charging","nocharge","noexist"],t={RunTime:["RunTime"],DeviceTemperature:["DeviceTemperature"],DeviceModel:["DeviceModel"],DeviceConfig:["DeviceConfig"],FirmwareVersion:["FirmwareVersion"],PCBVersion:["PCBVersion"],HardwareID:["HardewareID"],UbootVersion:["UbootVersion"],SerialNumber:["SerialNumber"],CameraVersion:["CameraVersion"],networkMac:["MAC"],Address:["Address"],Netmask:["Netmask"],Gateway:["Gateway"],Year:["Year"],Month:["Month"],MonthDay:["MonthDay"],Hour:["Hour"],Minute:["Minute"],Second:["Second"]},r={},i={Protocol:["MngProtocol"],DeviceID:["DeviceID"],VMIPAddr:["Address"],VMPort:["Port"]},n={},o={CMIPAddr:["Address"],CMPort:["Port"]},s=null;return new(Class.extend({init:function(){var e=this;Utils.beforeDataLoad(),this.initPage(),Utils.initLang(),this.initEvent(),this.initData(),s=setInterval(function(){e.getStatusInfo()},1e4),Utils.afterDataLoad()},initPage:function(){var e;u("#deviceType").text(Frame.prototypeName),""!=Frame.prototypeCfg&&((e=u("#deviceCfg")).text(Frame.prototypeCfg),e.parent("div").removeClass("hidden")),Capinfo.isSupportRealtimeStatus||(Capinfo.isSupportVM&&(u("#managementServerDiv").removeClass("hidden"),u("#serverLinkDiv").removeClass("hidden"),t.manaServer=["StatusParam","VMServerOnline"]),Capinfo.isSupportJPEG&&(u("#photoServerDiv").removeClass("hidden"),a="SupportJpeg=1",t.photoServer=["StatusParam","PhotoServerOnline"]),Capinfo.isSupportSmartTmsServer&&(u("#smartServerDiv").removeClass("hidden"),t.photoServer=["StatusParam","PhotoServerOnline"])),Capinfo.isSupportBattery&&u("#batteryStatusDiv").removeClass("hidden"),0==Menu.pageType&&u("#commonCfgDiv").removeClass("hidden")},initData:function(){this.getStatusInfo()},initEvent:function(){u(".menu-item").each(function(){u(this).bind("click",u(this).attr("data-link"),function(e){Utils.checkNavigator("safari")?Utils.safariClick(e.data):u("#"+e.data)[0].click()})})},submitF:function(){},release:function(){s&&clearInterval(s),Frame.currentNameSpace="",delete Config.Navigation},changeStatusText:function(){d.networkState=d.Address+"/"+d.Netmask+"/"+d.Gateway,e=Number(d.manaServer),e=u.lang.pub[p[e]],d.manaServer=e+" ("+d.VMIPAddr+":"+d.VMPort+")",e=Number(d.photoServer),e=u.lang.pub[v[e]],d.smartServer=e,e=Number(d.photoServer),e=u.lang.pub[v[e]],d.photoServer=e+" ("+d.IPAddr+":"+d.Port+")";var e=d.RunTime,a=Math.floor(e/86400);e%=86400;var t=Math.floor(e/3600);e%=3600;var r=Math.floor(e/60);e=a+" "+u.lang.pub.days+" "+t+" "+u.lang.pub.hours+" "+r+" "+u.lang.pub.mins,d.RunTime=e,e=d.Year+"/"+d.Month+"/"+d.MonthDay+"  "+Utils.formatTime(d.Hour,d.Minute,d.Second),d.SystemTime=e;for(var i,n=[],o=[],n=d.networkMac,s=0;s<12;s+=2)i=n.substring(s,s+2),o.push(i);r=o.join(":"),d.networkMac=r,Capinfo.isUN||"48ea63"!=n.substring(0,6)?u("#netWorkMac_Div").removeClass("hidden"):u("#netWorkMac_Div").addClass("hidden"),Capinfo.isSupportBattery&&(e=Number(d.Status),d.BatteryStatus=2==e?"":"("+d.CurrCapPer+"%)",e=u.lang.pub[l[e]],d.BatteryStatus=e+d.BatteryStatus)},getStatusInfo:function(){e={},""!=a&&!Capinfo.isMac&&isOldPlugin&&Utils.getCfgData(0,CMD_TYPE.CDM_STATUS_DEVICE_EX,d,a),Utils.LAPI_GetCfgData(LAPI_URL.LAPI_DeviceRunInfo,e)&&Utils.LAPI_GetCfgData(LAPI_URL.LAPI_DeviceBasicInfo,e)&&Utils.LAPI_GetCfgData(LAPI_URL.LAPI_LocalTime,e)&&(u("#serverLinkDiv").hasClass("hidden")||Utils.LAPI_GetCfgData(LAPI_URL.LAPI_ManagerServerInfo,e),u("#photoServerDiv").hasClass("hidden")&&u("#smartServerDiv").hasClass("hidden")||(Utils.LAPI_GetCfgData(LAPI_URL.LAPI_PhotoServer,e),Utils.LAPI_GetCfgData(LAPI_URL.PHOTO_SERVER_CFG,n),Utils.changeMapToMapByMapping(n.ServerAddr,o,d,0)),Utils.changeMapToMapByMapping(e,t,d,0),Utils.LAPI_GetCfgData(LAPI_URL.LAPI_ManageServer,r),Utils.changeMapToMapByMapping(r,i,d,0),Capinfo.isSupportBattery&&Utils.LAPI_GetCfgData(LAPI_URL.LAPI_BatteryInfo,d),this.changeStatusText(),Utils.setLabelValue(d),"undefined"!=typeof d.CameraVersion&&""!=d.CameraVersion&&u("#CameraVersion").parent().removeClass("hidden"))}}))}(jQuery),Frame.currentNameSpace=Config.Navigation;