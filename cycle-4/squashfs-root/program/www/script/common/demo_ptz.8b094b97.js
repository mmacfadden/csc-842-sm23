Config.demoPtz=function(d){var e={},t={},i={DemoPtzMaxSpeedText:["MaxSpeed"],DemoPtzMinSpeedText:["MinSpeed"],PtzHorLockForce:["HorLockForce"],PtzVerLockForce:["VerLockForce"],PtzMaxAngleText:["MaxVerAng"],PtzStartMode:["AccelMode"]},a={};return new(Class.extend({init:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initValidator(),this.initEvent(),this.initData(),Utils.afterDataLoad()},initPage:function(){},initData:function(){Utils.LAPI_GetCfgData(LAPI_URL.DemoPTZCfg,e)?(t=Utils.objectClone(e),e.MaxSpeed=(e.MaxSpeed/100).toFixed(2),e.MinSpeed=(e.MinSpeed/100).toFixed(2),e.MaxVerAng=(e.MaxVerAng/100).toFixed(2),Utils.LAPI_CfgToForm("frmSetup",e,a,i)):Utils.disableAll()},initEvent:function(){d("#PtzResetCfg").bind("click",function(){var e;confirm(d.lang.tip.tipDemoPtzNeedReboot)&&(e=Utils.submitCtrolCmd(6145,0,0),Frame.showMsg(e),e&&(d("#rebootStatusDiv").addClass("hidden"),Frame.PageBlockType=BlockType.REBOOT,Frame.updateBlock(!0,d.lang.tip.tipRebooting),Video.isSleepReplay=!0))}),d("#PtzResetPos").bind("click",function(){var e=Utils.submitCtrolCmd(6145,1,0);Frame.showMsg(e)})},submitF:function(){Utils.LAPI_FormToCfg("frmSetup",e,a,i),e.MaxSpeed=100*e.MaxSpeed,e.MinSpeed=100*e.MinSpeed,e.MaxVerAng=100*e.MaxVerAng,!Utils.isObjectEquals(e,t)&&validator.form()&&confirm(d.lang.tip.tipDemoPtzNeedReboot)&&Utils.LAPI_SetCfgData(LAPI_URL.DemoPTZCfg,e)&&(t=Utils.objectClone(e),d("#rebootStatusDiv").addClass("hidden"),Frame.PageBlockType=BlockType.REBOOT,Frame.updateBlock(!0,d.lang.tip.tipRebooting),Video.isSleepReplay=!0)},release:function(){delete Config.demoPtz},validPtzSpeed:function(){return Number(d("#DemoPtzMaxSpeedText").val())>Number(d("#DemoPtzMinSpeedText").val())},initValidator:function(){var e=Capinfo.demoPtzMaxSpeed,t=Capinfo.demoPtzMinSpeed,i=Capinfo.demoPtzMaxLockForce,a=Capinfo.demoPtzMinLockForce,o=Capinfo.demoPtzMinVerAngle,n=Capinfo.demoPtzMaxVerAngle,r=this;d("#DemoPtzMaxSpeedText").attr("tip",d.validator.format(d.lang.tip.tipRealRange,t,e)),d("#DemoPtzMinSpeedText").attr("tip",d.validator.format(d.lang.tip.tipRealRange,t,e)),d("#PtzHorLockForce").attr("tip",d.validator.format(d.lang.tip.tipIntRange,a,i)),d("#PtzVerLockForce").attr("tip",d.validator.format(d.lang.tip.tipIntRange,a,i)),d("#PtzMaxAngleText").attr("tip",d.validator.format(d.lang.tip.tipRealRange,o,n)),d.validator.addMethod("validPtzSpeed",function(e){return r.validPtzSpeed(e)},d.lang.tip.tipPtzSpeedErr),validator=d("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,t){Utils.showJqueryErr(e,t,"span")},success:function(e){},rules:{DemoPtzMaxSpeedText:{required:!0,range:[t,e],validPtzSpeed:""},DemoPtzMinSpeedText:{required:!0,range:[t,e],validPtzSpeed:""},PtzHorLockForce:{integer:!0,required:!0,range:[a,i]},PtzVerLockForce:{integer:!0,required:!0,range:[a,i]},PtzMaxAngleText:{required:!0,range:[o,n]}}}),validator.init()}}))}(jQuery),Frame.currentNameSpace=Config.demoPtz;