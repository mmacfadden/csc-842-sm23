Config.Router=function(e){var a=Capinfo.routeMaxNum,t=[{fieldId:"rowNum",fieldType:"RowNum"},{fieldId:"Destination"},{fieldId:"Netmask"},{fieldId:"Gateway"}];return new(Class.extend({LuMap:{},jsonMap:{},LuDataView:null,type:0,init:function(){},init2:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initEvent(),this.initDataView(),Utils.afterDataLoad()},initData:function(){},initEvent:function(){var t=this;e("#add").bind("click",function(){t.editLuInfo(0)}),e("#modify").bind("click",function(){t.editLuInfo(1)}),e("#del").bind("click",function(){t.delLu()})},release:function(){Frame.currentNameSpace="",delete Config.Router},initDataView:function(){this.LuDataView=new TableView("dataview_tbody",this.getData,t),this.LuDataView.createDataView()},getData:function(){if(Config.Router.jsonMap={},Utils.LAPI_GetCfgData(LAPI_URL.Routes,Config.Router.jsonMap))return Config.Router.jsonMap.RouteInfos;Utils.disableAll()},editLuInfo:function(t){var i=0==t?e.lang.pub.add:e.lang.pub.modify;if(1==t){if(-1==this.LuDataView.currectRow)return void Frame.showMsg(!0,e.lang.tip.tipEditLu,0);this.LuMap=this.jsonMap.RouteInfos[this.LuDataView.currectRow]}else{if(a==this.jsonMap.Nums)return void Frame.showMsg(!1,e.lang.tip.tipMaxRouteNums);this.LuMap={}}this.type=t,Utils.openWin(i,"/page/common/Luinfo_edit.54a675c0.htm",400,210,!1,"450","150",!0)},delLu:function(){var t;-1!=this.LuDataView.currectRow?confirm(e.lang.tip.tipConfirmDel)&&(t=this.LuDataView.getData(this.LuDataView.currectRow,"ID"),Utils.LAPI_DelCfgData(LAPI_URL.Routes+"/RouteInfos/"+t,{})&&this.LuDataView.refresh()):Frame.showMsg(!0,e.lang.tip.tipSelectDelLuData,0)}}))}(jQuery),Config.Router.init2(),Frame.currentNameSpace=Config.Router;