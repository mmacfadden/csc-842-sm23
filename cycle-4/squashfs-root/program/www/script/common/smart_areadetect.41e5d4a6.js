Config.smart_areadetect=function(o){var l=Menu.pageType,r=null,t=null,u={},s={},n=!1,m=DrawType.POLYGON,c=o("#menu").width(),p=["CC66FF","FF6633","0099FF","339933","CC0033","6666CC","FFFF66","99CC00"],T={},R={0:{tab:"crossBorderTab",funName:o.lang.pub.enableCrossBorder,isLineType:!0,lineTriggerDirecItemVisible:!0,RuleDrawType:DrawType.LINE_ARROW,AutoTrackLiVisible:Capinfo.isSupportSmartTrack,pcParam:"RuleType="+IVARuleType.PICKET_LINE,planName:"CrossLine",currnetSmartNum:100},1:{tab:"areaStayTab",funName:o.lang.pub.enableAreaStay,timeThresholdItemVisible:!0,minTimeValue:1,maxTimeValue:10,areaPercentItemVisible:!0,alarmType:AlarmType.INTROSION_ZONE,planType:PlanType.AREA_STAY,AutoTrackLiVisible:Capinfo.isSupportSmartTrack,pcParam:"RuleType="+IVARuleType.AREA_STAY,planName:"IntrosionZone",currnetSmartNum:101},2:{tab:"enterAreaTab",funName:o.lang.pub.enableEnterArea,AutoTrackLiVisible:Capinfo.isSupportSmartTrack,pcParam:"RuleType="+IVARuleType.PICKET_AREA+"&AreaTriggerDirec="+IVATriggerDirection.ENTRY,planName:"AccessZone",currnetSmartNum:102},3:{tab:"leaveAreaTab",funName:o.lang.pub.enableLeaveArea,alarmType:AlarmType.LEAVE_ZONE,planType:PlanType.AREA_OUT,AutoTrackLiVisible:Capinfo.isSupportSmartTrack,pcParam:"RuleType="+IVARuleType.PICKET_AREA+"&AreaTriggerDirec="+IVATriggerDirection.QUIT,planName:"LeaveZone",currnetSmartNum:103},4:{tab:"wanderDetectTab",funName:o.lang.pub.enableWanderDetect,alarmType:AlarmType.HOVER_ZONE,timeThresholdItemVisible:!0,minTimeValue:1,maxTimeValue:10,AutoTrackLiVisible:Capinfo.isSupportSmartTrack,pcParam:"RuleType="+IVARuleType.WANDER,planName:"HoverZone",currnetSmartNum:104},5:{tab:"peopleGatherTab",funName:o.lang.pub.enablePeopleGather,areaPercentItemVisible:!0,alarmType:AlarmType.GATHER,planType:PlanType.GATHER,pcParam:"RuleType="+IVARuleType.GATHER,planName:"Gather",currnetSmartNum:200},6:{tab:"fastMoveTab",funName:o.lang.pub.enableFastMove,AutoTrackLiVisible:Capinfo.isSupportSmartTrack,pcParam:"RuleType="+IVARuleType.FAST_MOVE,planName:"FastMove",currnetSmartNum:105},7:{tab:"parkDetectTab",funName:o.lang.pub.enableParkDetect,timeThresholdItemVisible:!0,minTimeValue:5,maxTimeValue:20,alarmType:AlarmType.CAR_STOP,planType:PlanType.STOPCAR,pcParam:"RuleType="+IVARuleType.PARKING,planName:"CarStop",currnetSmartNum:201},8:{tab:"leftGoodTab",funName:o.lang.pub.enableLeftGood,timeThresholdItemVisible:!0,minTimeValue:5,maxTimeValue:20,pcParam:"RuleType="+IVARuleType.OBJECT_STATUS+"&AreaTriggerDirec="+IVATriggerDirection.ABANDON,planName:"RemainArticle",currnetSmartNum:202},9:{tab:"handleGoodTab",funName:o.lang.pub.enableHandleGood,timeThresholdItemVisible:!0,minTimeValue:5,maxTimeValue:20,alarmType:AlarmType.CARE_ARTICLE,planType:PlanType.THEFT,pcParam:"RuleType="+IVARuleType.OBJECT_STATUS+"&AreaTriggerDirec="+IVATriggerDirection.THEFT,planName:"CareArticle",currnetSmartNum:203}},d=R[l].planName,P={TimeThreshold:{sliderId:"TimeThresholdSld",barId:"TimeThresholdBar",minValue:1,maxValue:100,sld:null},Sensitivity:{sliderId:"SensitivitySld",barId:"SensitivityBar",minValue:1,maxValue:100,sld:null},AreaPercent:{sliderId:"AreaPercentSld",barId:"AreaPercentBar",minValue:1,maxValue:100,sld:null}};return new(Class.extend({menuTop:o(".fixLine").offset().top,ruleNum:Capinfo.isSupportMstarIntrosionZone?Capinfo.isSupportMstarIntrosionZoneNum:4,dataMap_bak:{},init:function(){Utils.beforeDataLoad(),Utils.initLang(),this.initPage(),this.initEvent(),this.initValidator(),this.initData(),this.dataMap_bak=Utils.objectClone(s),Utils.initVideo("recordManager_div_activeX",StreamType.LIVE,RunMode.CONFIG,null,Capinfo.isSupportPTZ,this.initVideo_callback),Utils.afterDataLoad()},initPage:function(){var e=o.lang.pub.Rule;o(".fixLine").css("left",c+35),Utils.resetVideoSize(StreamID.MAIN_VIDEO,"recordManager_div_activeX");var a,i=R[l],r=i.funName;for(a in"undefined"!=typeof i.areaTypeName&&(e=i.areaTypeName),1==i.lineTriggerDirecItemVisible&&o("#lineTriggerDirecItem").removeClass("hidden"),1==i.AutoTrackLiVisible&&o("#AutoTrackLi").removeClass("hidden"),"undefined"!=typeof i.timeThresholdItemVisible&&1==i.timeThresholdItemVisible&&(P.TimeThreshold.minValue=i.minTimeValue,P.TimeThreshold.maxValue=i.maxTimeValue,o("#timeThresholdItem").removeClass("hidden")),"undefined"!=typeof i.areaPercentItemVisible&&1==i.areaPercentItemVisible&&o("#areaPercentItem").removeClass("hidden"),o("#enableText").html(r),o("#areaType").html(e),o("#add").attr("title",o.lang.pub.add),this.initSlider(),P)this.setSliderEnable(a,!0);Capinfo.isSupportSwitchOut&&o("#switchOutTR").removeClass("hidden"),Capinfo.isSupportEmail&&o("#EmailCaptureLi").removeClass("hidden"),Capinfo.isSupportBasicFTP&&o("#FtpCaptureLi").removeClass("hidden"),Capinfo.isSupportVM&&o("#AlarmReport").removeClass("hidden"),!Capinfo.isSupportStorage||AlarmType.HOVER_ZONE!=i.alarmType&&AlarmType.INTROSION_ZONE!=i.alarmType||(o("#LocalStoreLi").removeClass("hidden"),o("#picLi").removeClass("hidden")),!Capinfo.isSupportBoxDomeLink||"CrossLine"!=d&&"AccessZone"!=d&&"HoverZone"!=d&&"LeaveZone"!=d&&"IntrosionZone"!=d&&"FastMove"!=d||o("#GunBallLinkLi").removeClass("hidden"),Capinfo.isSupportMstarIntrosionZone&&o(".custom-thead").addClass("hidden"),document.getElementById("currentPage").innerHTML=R[l].funName},initData:function(){var e=R[l];"undefined"!=typeof e.RuleDrawType&&(m=e.RuleDrawType),Utils.LAPI_GetCfgData(LAPI_URL.SmartRule+d,T)?(this.parseData(),this.initAreaPosData(),u=Utils.objectClone(s),Utils.cfgToForm(s,"frmSetup"),this.initAreaList(),Plan.init(LAPI_URL.WeekPlan+d)):Utils.disableAll()},initEvent:function(){o("#LineTriggerDirec").change(function(){DrawObjMap[m][t].Direction=Number(o("#LineTriggerDirec").val()),Utils.ModifyDrawObj(m,t,DrawObjMap)})},submitF:function(){var e,a,i=!0;r.form()&&(a=o("#Enable").is(":checked"),Utils.mutexSmartFunc(a,R[l].currnetSmartNum)&&(Utils.formToCfg("frmSetup",s.ruleList[t]),Utils.formToCfg("frmSetup",s),e=!Utils.isObjectEquals(u,s),a=Plan.IsChanged(),(e||a)&&(i=a?Plan.submitF(LAPI_URL.WeekPlan+d):i)&&e&&(this.dataParse(),i=Utils.LAPI_SetCfgData(LAPI_URL.SmartRule+d,T,!1,this.callBack))))},release:function(){Utils.EnableDrawFun(StreamType.LIVE,0),Frame.hiddenVideo(),delete Config.smart_areadetect},initValidator:function(){o("#Sensitivity").attr("tip",o.validator.format(o.lang.tip.tipIntRange,1,100)),r=o("#frmSetup").validate({focusInvalid:!1,errorElement:"span",errorPlacement:function(e,a){Utils.showJqueryErr(e,a)},success:function(){},rules:{Sensitivity:{integer:!0,required:!0,range:[1,100]}}}),o("#TimeThreshold").attr("tip",o.validator.format(o.lang.tip.tipIntRange,P.TimeThreshold.minValue,P.TimeThreshold.maxValue)),o("#AreaPercent").attr("tip",o.validator.format(o.lang.tip.tipIntRange,1,100));var e=r.settings.rules;e.TimeThreshold={integer:!0,required:!0,range:[P.TimeThreshold.minValue,P.TimeThreshold.maxValue]},e.AreaPercent={integer:!0,required:!0,range:[1,100]},r.init()},parseData:function(){var e,a,i=0;if("CrossLine"==d)for(s.RuleType=T.RuleType,s.SwitchOut=T.RuleParam.PicketLine.RuleLinkage.SwitchOut,s.AutoTrack=T.RuleParam.PicketLine.RuleLinkage.AutoTrack,s.CurrentRuleNum=T.RuleNum,s.EmailCapture=T.RuleParam.PicketLine.RuleLinkage.EmailCapture,s.Enable=T.RuleParam.PicketLine.Enable,s.FtpCapture=T.RuleParam.PicketLine.RuleLinkage.FtpCapture,s.ReportAlarm=T.RuleParam.PicketLine.RuleLinkage.ReportAlarm,s.DomeLinkTrace=T.RuleParam.PicketLine.RuleLinkage.DomeLinkTrace,s.ruleList=[],e=0;e<this.ruleNum;e++)(a={}).IVARuleValid=T.RuleParam.PicketLine.TripWireRule[e].Valid,a.LineTriggerDirec=T.RuleParam.PicketLine.TripWireRule[e].TriggerDirection,a.RuleID=T.RuleParam.PicketLine.TripWireRule[e].RuleID,a.Sensitivity=T.RuleParam.PicketLine.TripWireRule[e].Sensitivity,a.ulX1=T.RuleParam.PicketLine.TripWireRule[e].Line.Head.X,a.ulY1=T.RuleParam.PicketLine.TripWireRule[e].Line.Head.Y,a.ulX2=T.RuleParam.PicketLine.TripWireRule[e].Line.Tail.X,a.ulY2=T.RuleParam.PicketLine.TripWireRule[e].Line.Tail.Y,a.PointNum=2,s.ruleList.push(a);else for(s.AreaTriggerDirec=T.RuleParam.PicketArea.TriggerDirection,s.RuleType=T.RuleType,s.SwitchOut=T.RuleParam.PicketArea.RuleLinkage.SwitchOut,s.AutoTrack=T.RuleParam.PicketArea.RuleLinkage.AutoTrack,s.CurrentRuleNum=T.RuleNum,s.EmailCapture=T.RuleParam.PicketArea.RuleLinkage.EmailCapture,s.Enable=T.RuleParam.PicketArea.Enable,s.FtpCapture=T.RuleParam.PicketArea.RuleLinkage.FtpCapture,s.ReportAlarm=T.RuleParam.PicketArea.RuleLinkage.ReportAlarm,s.DomeLinkTrace=T.RuleParam.PicketArea.RuleLinkage.DomeLinkTrace,s.ruleList=[],s.LocalStore=T.RuleParam.PicketArea.RuleLinkage.LocalStore,s.LinkOutPic=T.RuleParam.PicketArea.RuleLinkage.SdSaveCapture,e=0;e<this.ruleNum;e++){for((a={}).IVARuleValid=T.RuleParam.PicketArea.AreaRule[e].Valid,a.AreaPercent=T.RuleParam.PicketArea.AreaRule[e].AreaPercent,a.PointNum=T.RuleParam.PicketArea.AreaRule[e].Polygon.Num,a.RuleID=T.RuleParam.PicketArea.AreaRule[e].RuleID,a.Sensitivity=T.RuleParam.PicketArea.AreaRule[e].Sensitivity,a.TimeThreshold=T.RuleParam.PicketArea.AreaRule[e].TimeThreshold,a.PointNum=T.RuleParam.PicketArea.AreaRule[e].Polygon.Num,i=0;i<a.PointNum;i++)a["ulX"+(i+1)]=T.RuleParam.PicketArea.AreaRule[e].Polygon.Point[i].X,a["ulY"+(i+1)]=T.RuleParam.PicketArea.AreaRule[e].Polygon.Point[i].Y;s.ruleList.push(a)}},changeDataMapToStr:function(){var e,a,i,r,l="";for(a in s)if("ruleList"==a)for(i=0;i<this.ruleNum;i++)for(r in e=s[a][i])l+="Rule"+(i+1)+r+"="+e[r]+"&";else l+=a+"="+s[a]+"&";return l=l.substring(0,l.length-1)},initAreaPosData:function(){for(var e,a=0;a<this.ruleNum;a++)e=s.ruleList[a],IVARuleType.PICKET_LINE==s.RuleType?0==e.ulX1&&0==e.ulY1&&0==e.ulX2&&0==e.ulY2&&(e.PointNum=2,e.ulX1=500*(a+1),e.ulY1=500,e.ulX2=500*(a+1),e.ulY2=9500):0==e.PointNum&&(e.PointNum=6,e.ulX1=1e3,e.ulY1=0,e.ulX2=3e3,e.ulY2=0,e.ulX3=4e3,e.ulY3=1e3,e.ulX4=3e3,e.ulY4=2e3,e.ulX5=1e3,e.ulY5=2e3,e.ulX6=0,e.ulY6=1e3)},setDefaultRuleInfo:function(e){var a,i,r=s.ruleList[e],l=DrawObjMap[m][e];for(i in r.Sensitivity=50,IVARuleType.PICKET_LINE==s.RuleType?(r.LineTriggerDirec=0,r.PointNum=2,r.ulX1=500*(e+1),r.ulY1=500,r.ulX2=500*(e+1),r.ulY2=9500,l.Direction=r.LineTriggerDirec):(r.TimeThreshold=1,r.AreaPercent=1,r.PointNum=6,r.ulX1=1e3,r.ulY1=0,r.ulX2=3e3,r.ulY2=0,r.ulX3=4e3,r.ulY3=1e3,r.ulX4=3e3,r.ulY4=2e3,r.ulX5=1e3,r.ulY5=2e3,r.ulX6=0,r.ulY6=1e3),l)(-1<i.indexOf("PointX")||-1<i.indexOf("PointY"))&&delete l[i];for(a=0;a<r.PointNum;a++)l["PointX"+a]=r["ulX"+(a+1)],l["PointY"+a]=r["ulY"+(a+1)];Utils.setDrawObj(m,e,DrawObjMap),Utils.showHiddenArea(m,e,0)},eventDrawObjParam:function(e,a,i){var r,l,t=s.ruleList[a],u=DrawObjMap[e][a],n=o.parseJSON(i);for(l in u)(-1<l.indexOf("PointX")||-1<l.indexOf("PointY"))&&delete u[l];for(l in n)u[l]=n[l];for(r=0;"undefined"!=typeof n["PointX"+r];r++)t["ulX"+(r+1)]=Number(n["PointX"+r]),t["ulY"+(r+1)]=Number(n["PointY"+r]);t.PointNum=r},eventSelDrawObj:function(e,a){this.selectArea(a)},initSlider:function(){for(var e in P){var a=P[e],i=new Slider(a.sliderId,a.barId,{onMove:function(){n||null==t||o("#"+this.textId).val(Math.round(this.GetValue()))},onDragStop:function(){var e=o("#"+this.textId)[0];e.focus(),e.blur()}});i.textId=e,i.MinValue=a.minValue,i.MaxValue=a.maxValue,a.sld=i}},setSliderValue:function(){var e,a,i;for(e in P)a=P[e].sld,i=o("#"+e).val(),i=isNaN(i)?1:Number(i),a.SetValue(i)},setSliderEnable:function(e,a){var i=P[e].sliderId,r=P[e].barId;a?(o("#"+i).removeClass().addClass("slider4"),o("#"+r).removeClass().addClass("bar3 bar4")):(o("#"+i).removeClass().addClass("slider3"),o("#"+r).removeClass().addClass("bar3")),P[e].sld.setEnable(!a),o("#"+e).prop("disabled",a)},onSliderChanged:function(e){var a=P[e.id];r.check(e)&&(s.ruleList[t][e.id]=e.value,n=!0,a.sld.SetValue(e.value),n=!1)},selectArea:function(e){if(null!=t)Utils.formToCfg("frmSetup",s.ruleList[t]),o("#areaTR"+t).removeClass("selectedTR"),o("#selectDiv"+t).removeClass("selectedDiv");else for(var a in o("#LineTriggerDirec").prop("disabled",!1),P)this.setSliderEnable(a,!1);o("#areaTR"+(t=e)).addClass("selectedTR"),o("#selectDiv"+t).addClass("selectedDiv"),Utils.selectDrawObj(m,t),o("#areaName").html(t+1),Utils.cfgToForm(s.ruleList[t],"frmSetup"),this.setSliderValue()},addArea:function(){for(var e,a=0;a<this.ruleNum&&!(e=o("#areaTR"+a)).is(":hidden");a++);a!=this.ruleNum?(s.ruleList[a].IVARuleValid=1,Utils.showHiddenArea(m,a,1),e.removeClass("hidden"),this.selectArea(a)):Frame.showMsg(!0,o.lang.tip.tipUpperAreaInfo,0)},removeArea:function(e){var a,i=0,r=o("#LineTriggerDirec");if(s.ruleList[e].IVARuleValid=0,e==t&&null!=t)for(t=null,i=0;i<this.ruleNum;i++)if(1==s.ruleList[i].IVARuleValid){this.selectArea(i);break}for(a in P)this.setSliderEnable(a,!1);if(null==t)for(a in o("#areaName").html(""),r.val(0),o("#Sensitivity").val(1),o("#TimeThreshold").val(1),o("#AreaPercent").val(1),this.setSliderValue(),r.prop("disabled",!0),P)this.setSliderEnable(a,!0);o("#areaTR"+e).addClass("hidden"),this.setDefaultRuleInfo(e)},dataParse:function(){var e,a=0;if("CrossLine"==d)for(T.RuleType=s.RuleType,T.RuleParam.PicketLine.RuleLinkage.SwitchOut=s.SwitchOut,T.RuleParam.PicketLine.RuleLinkage.AutoTrack=s.AutoTrack,T.RuleNum=s.CurrentRuleNum,T.RuleParam.PicketLine.RuleLinkage.EmailCapture=s.EmailCapture,T.RuleParam.PicketLine.Enable=s.Enable,T.RuleParam.PicketLine.RuleLinkage.FtpCapture=s.FtpCapture,T.RuleParam.PicketLine.RuleLinkage.ReportAlarm=s.ReportAlarm,T.RuleParam.PicketLine.RuleLinkage.DomeLinkTrace=s.DomeLinkTrace,e=0;e<this.ruleNum;e++)T.RuleParam.PicketLine.TripWireRule[e].Valid=s.ruleList[e].IVARuleValid,T.RuleParam.PicketLine.TripWireRule[e].RuleID=s.ruleList[e].RuleID,T.RuleParam.PicketLine.TripWireRule[e].TriggerDirection=s.ruleList[e].LineTriggerDirec,T.RuleParam.PicketLine.TripWireRule[e].Sensitivity=s.ruleList[e].Sensitivity,T.RuleParam.PicketLine.TripWireRule[e].Line.Head.X=s.ruleList[e].ulX1,T.RuleParam.PicketLine.TripWireRule[e].Line.Head.Y=s.ruleList[e].ulY1,T.RuleParam.PicketLine.TripWireRule[e].Line.Tail.X=s.ruleList[e].ulX2,T.RuleParam.PicketLine.TripWireRule[e].Line.Tail.Y=s.ruleList[e].ulY2;else for(T.RuleParam.PicketArea.TriggerDirection=s.AreaTriggerDirec,T.RuleType=s.RuleType,T.RuleParam.PicketArea.RuleLinkage.SwitchOut=s.SwitchOut,T.RuleParam.PicketArea.RuleLinkage.AutoTrack=s.AutoTrack,T.RuleNum=s.CurrentRuleNum,T.RuleParam.PicketArea.RuleLinkage.EmailCapture=s.EmailCapture,T.RuleParam.PicketArea.Enable=s.Enable,T.RuleParam.PicketArea.RuleLinkage.FtpCapture=s.FtpCapture,T.RuleParam.PicketArea.RuleLinkage.ReportAlarm=s.ReportAlarm,T.RuleParam.PicketArea.RuleLinkage.LocalStore=s.LocalStore,T.RuleParam.PicketArea.RuleLinkage.DomeLinkTrace=s.DomeLinkTrace,T.RuleParam.PicketArea.RuleLinkage.SdSaveCapture=s.LinkOutPic,e=0;e<this.ruleNum;e++)for(T.RuleParam.PicketArea.AreaRule[e].Valid=s.ruleList[e].IVARuleValid,s.ruleList[e].AreaPercent?T.RuleParam.PicketArea.AreaRule[e].AreaPercent=s.ruleList[e].AreaPercent:T.RuleParam.PicketArea.AreaRule[e].AreaPercent=1,T.RuleParam.PicketArea.AreaRule[e].Polygon.Num=s.ruleList[e].PointNum,T.RuleParam.PicketArea.AreaRule[e].RuleID=s.ruleList[e].RuleID,T.RuleParam.PicketArea.AreaRule[e].Sensitivity=s.ruleList[e].Sensitivity,s.ruleList[e].TimeThreshold?T.RuleParam.PicketArea.AreaRule[e].TimeThreshold=s.ruleList[e].TimeThreshold:T.RuleParam.PicketArea.AreaRule[e].TimeThreshold=0,T.RuleParam.PicketArea.AreaRule[e].Polygon.Num=s.ruleList[e].PointNum,a=0;a<s.ruleList[e].PointNum;a++)T.RuleParam.PicketArea.AreaRule[e].Polygon.Point[a]={},T.RuleParam.PicketArea.AreaRule[e].Polygon.Point[a].X=s.ruleList[e]["ulX"+(a+1)],T.RuleParam.PicketArea.AreaRule[e].Polygon.Point[a].Y=s.ruleList[e]["ulY"+(a+1)]},callBack:function(e){ResultCode.RESULT_CODE_SUCCEED==e?(u=Utils.objectClone(s),Frame.showMsg(!0)):ResultCode.EXCEED_CONFIGF_FULL==e?Frame.showMsg(!1,o.lang.tip.tipSmartRuleUpLimit):Frame.showMsg(!1,o.lang.tip.tipSetCfgFail)},initAreaList:function(){for(var e,a=o.lang.pub.Rule,i=0;i<this.ruleNum;i++)e="<tr id='areaTR"+i+"' class='"+(1==s.ruleList[i].IVARuleValid?"":"hidden")+"'><td onclick='Config.smart_areadetect.selectArea("+i+");' ><div id='selectDiv"+i+"' class='unselectDiv'><div class='colorDiv' style='background-color: #"+p[i]+"'></div></div></td><td onclick='Config.smart_areadetect.selectArea("+i+");' >"+a+(i+1)+"</td><td align='right'><a class='icon black-del' onclick='Config.smart_areadetect.removeArea("+i+");this.blur();' title='"+o.lang.pub.del+"'></a></td></tr>",o("#areaTbl").append(e)},showArea:function(){for(var e=0,a=0;a<Config.smart_areadetect.ruleNum;a++)e=0,1==s.ruleList[a].IVARuleValid&&(e=1),Utils.showHiddenArea(m,a,e)},initArea:function(){var e,a,i,r;for(DrawObjMap={},DrawObjMap[m]=[],i=0;i<this.ruleNum;i++){for(a=s.ruleList[i],(e={}).Text="#"+(i+1),e.RuleID=a.RuleID,IVARuleType.PICKET_LINE==s.RuleType&&(e.Direction=a.LineTriggerDirec),r=0;r<a.PointNum;r++)e["PointX"+r]=Number(a["ulX"+(r+1)]),e["PointY"+r]=Number(a["ulY"+(r+1)]);e.LineColor=Utils.getDrawObjColor(p[i]),e.LineWidth=2,DrawObjMap[m].push(e)}Utils.initDrawObj(DrawObjMap,this.showArea)},initVideo_callback:function(e){var a;for(Utils.EnableDrawFun(e,1),Config.smart_areadetect.initArea(),a=0;a<Config.smart_areadetect.ruleNum;a++)if(1==Config.smart_areadetect.dataMap_bak.ruleList[a].IVARuleValid){Config.smart_areadetect.selectArea(a);break}}}))}(jQuery),Frame.currentNameSpace=Config.smart_areadetect;