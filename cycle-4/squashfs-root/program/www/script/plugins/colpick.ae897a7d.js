!function(c){var t,i,o,l,n,d,r,p,s,h,u,f,a,g,v,k,m,b,_,x,w,y,M,I,C,q,S,P,N,z,O,Y,e=(t={showEvent:"click",onShow:function(){},onBeforeShow:function(){},onHide:function(){},onChange:function(){},onSubmit:function(){},colorScheme:"light",color:"11ff00",livePreview:!0,flat:!1,layout:"full",submit:1,submitText:"OK",height:150},i=function(t,e){t=z(t);c(e).data("colpick.ae897a7d").fields.eq(1).val(t.r).end().eq(2).val(t.g).end().eq(3).val(t.b).end()},o=function(t,e){c(e).data("colpick.ae897a7d").fields.eq(4).val(Math.round(10*t.h)/10).end().eq(5).val(Math.round(10*t.s)/10).end().eq(6).val(Math.round(10*t.b)/10).end()},l=function(t,e){c(e).data("colpick.ae897a7d").fields.eq(0).val(O(t))},n=function(t,e){c(e).data("colpick.ae897a7d").selector.css("backgroundColor","#"+O({h:t.h,s:100,b:100})),c(e).data("colpick.ae897a7d").selectorIndic.css({left:parseInt(c(e).data("colpick.ae897a7d").height*t.s/100,10),top:parseInt(c(e).data("colpick.ae897a7d").height*(100-t.b)/100,10)})},d=function(t,e){c(e).data("colpick.ae897a7d").hue.css("top",parseInt(c(e).data("colpick.ae897a7d").height-c(e).data("colpick.ae897a7d").height*t.h/360,10))},r=function(t,e){c(e).data("colpick.ae897a7d").currentColor.css("backgroundColor","#"+O(t))},p=function(t,e){c(e).data("colpick.ae897a7d").newColor.css("backgroundColor","#"+O(t))},s=function(t){var e,a=c(this).parent().parent();0<this.parentNode.className.indexOf("_hex")?a.data("colpick.ae897a7d").color=e=P(S(this.value)):0<this.parentNode.className.indexOf("_hsb")?a.data("colpick.ae897a7d").color=e=C({h:parseInt(a.data("colpick.ae897a7d").fields.eq(4).val(),10),s:parseInt(a.data("colpick.ae897a7d").fields.eq(5).val(),10),b:parseInt(a.data("colpick.ae897a7d").fields.eq(6).val(),10)}):a.data("colpick.ae897a7d").color=e=N(q({r:parseInt(a.data("colpick.ae897a7d").fields.eq(1).val(),10),g:parseInt(a.data("colpick.ae897a7d").fields.eq(2).val(),10),b:parseInt(a.data("colpick.ae897a7d").fields.eq(3).val(),10)})),t&&(i(e,a.get(0)),l(e,a.get(0)),o(e,a.get(0))),n(e,a.get(0)),d(e,a.get(0)),p(e,a.get(0)),a.data("colpick.ae897a7d").onChange.apply(a.parent(),[e,O(e),z(e)])},h=function(t){c(this).parent().removeClass("colpick_focus")},u=function(){c(this).parent().parent().data("colpick.ae897a7d").fields.parent().removeClass("colpick_focus"),c(this).parent().addClass("colpick_focus")},f=function(t){var e=c(this).parent().find("input").focus(),e={el:c(this).parent().addClass("colpick_slider"),max:0<this.parentNode.className.indexOf("_hsb_h")?360:0<this.parentNode.className.indexOf("_hsb")?100:255,y:t.pageY,field:e,val:parseInt(e.val(),10),preview:c(this).parent().parent().data("colpick.ae897a7d").livePreview};c(document).mouseup(e,g),c(document).mousemove(e,a)},a=function(t){return t.data.field.val(Math.max(0,Math.min(t.data.max,parseInt(t.data.val-t.pageY+t.data.y,10)))),t.data.preview&&s.apply(t.data.field.get(0),[!0]),!1},g=function(t){return s.apply(t.data.field.get(0),[!0]),t.data.el.removeClass("colpick_slider").find("input").focus(),c(document).off("mouseup",g),c(document).off("mousemove",a),!1},v=function(t){var e={cal:c(this).parent(),y:c(this).offset().top};e.preview=e.cal.data("colpick.ae897a7d").livePreview,c(document).mouseup(e,m),c(document).mousemove(e,k),s.apply(e.cal.data("colpick.ae897a7d").fields.eq(4).val(parseInt(360*(e.cal.data("colpick.ae897a7d").height-(t.pageY-e.y))/e.cal.data("colpick.ae897a7d").height,10)).get(0),[e.preview])},k=function(t){return s.apply(t.data.cal.data("colpick.ae897a7d").fields.eq(4).val(parseInt(360*(t.data.cal.data("colpick.ae897a7d").height-Math.max(0,Math.min(t.data.cal.data("colpick.ae897a7d").height,t.pageY-t.data.y)))/t.data.cal.data("colpick.ae897a7d").height,10)).get(0),[t.data.preview]),!1},m=function(t){return i(t.data.cal.data("colpick.ae897a7d").color,t.data.cal.get(0)),l(t.data.cal.data("colpick.ae897a7d").color,t.data.cal.get(0)),c(document).off("mouseup",m),c(document).off("mousemove",k),!1},b=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1;var e={cal:c(this).parent(),pos:c(this).offset()};e.preview=e.cal.data("colpick.ae897a7d").livePreview,c(document).mouseup(e,x),c(document).mousemove(e,_),s.apply(e.cal.data("colpick.ae897a7d").fields.eq(6).val(parseInt(100*(e.cal.data("colpick.ae897a7d").height-(t.pageY-e.pos.top))/e.cal.data("colpick.ae897a7d").height,10)).end().eq(5).val(parseInt(100*(t.pageX-e.pos.left)/e.cal.data("colpick.ae897a7d").height,10)).get(0),[e.preview])},_=function(t){return s.apply(t.data.cal.data("colpick.ae897a7d").fields.eq(6).val(parseInt(100*(t.data.cal.data("colpick.ae897a7d").height-Math.max(0,Math.min(t.data.cal.data("colpick.ae897a7d").height,t.pageY-t.data.pos.top)))/t.data.cal.data("colpick.ae897a7d").height,10)).end().eq(5).val(parseInt(100*Math.max(0,Math.min(t.data.cal.data("colpick.ae897a7d").height,t.pageX-t.data.pos.left))/t.data.cal.data("colpick.ae897a7d").height,10)).get(0),[t.data.preview]),!1},x=function(t){return i(t.data.cal.data("colpick.ae897a7d").color,t.data.cal.get(0)),l(t.data.cal.data("colpick.ae897a7d").color,t.data.cal.get(0)),c(document).off("mouseup",x),c(document).off("mousemove",_),!1},w=function(t){var e=c(this).parent(),a=e.data("colpick.ae897a7d").color;e.data("colpick.ae897a7d").origColor=a,r(a,e.get(0)),e.data("colpick.ae897a7d").onSubmit(a,O(a),z(a),e.data("colpick.ae897a7d").el)},y=function(t){var e=c("#"+c(this).data("colpickId"));e.data("colpick.ae897a7d").onBeforeShow.apply(this,[e.get(0)]);var a=c(this).offset(),i=a.top+this.offsetHeight,o=a.left,a=I();return o+346>a.l+a.w&&(o-=346),e.css({left:o+"px",top:i+"px"}),0!=e.data("colpick.ae897a7d").onShow.apply(this,[e.get(0)])&&e.show(),c("html").mousedown({cal:e},M),e.mousedown(function(t){t.stopPropagation()}),!1},M=function(t){return 0!=t.data.cal.data("colpick.ae897a7d").onHide.apply(this,[t.data.cal.get(0)])&&t.data.cal.hide(),c("html").off("mousedown",M),!1},I=function(){var t="CSS1Compat"==document.compatMode;return{l:window.pageXOffset||(t?document.documentElement:document.body).scrollLeft,w:window.innerWidth||(t?document.documentElement:document.body).clientWidth}},C=function(t){return{h:Math.min(360,Math.max(0,t.h)),s:Math.min(100,Math.max(0,t.s)),b:Math.min(100,Math.max(0,t.b))}},q=function(t){return{r:Math.min(255,Math.max(0,t.r)),g:Math.min(255,Math.max(0,t.g)),b:Math.min(255,Math.max(0,t.b))}},S=function(t){var e=6-t.length;if(0<e){for(var a=[],i=0;i<e;i++)a.push("0");a.push(t),t=a.join("")}return t},P=function(t){return N((t=t,{r:(t=parseInt(-1<t.indexOf("#")?t.substring(1):t,16))>>16,g:(65280&t)>>8,b:255&t}))},N=function(t){var e={h:0,s:0,b:0},a=Math.min(t.r,t.g,t.b),i=Math.max(t.r,t.g,t.b),a=i-a;return e.b=i,e.s=0!=i?255*a/i:0,0!=e.s?t.r==i?e.h=(t.g-t.b)/a:t.g==i?e.h=2+(t.b-t.r)/a:e.h=4+(t.r-t.g)/a:e.h=-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e},z=function(t){var e={},a=Math.round(t.h),i=Math.round(255*t.s/100),o=Math.round(255*t.b/100);return 0==i?e.r=e.g=e.b=o:(o=a%60*((t=o)-(i=(255-i)*o/255))/60,(a=360==a?0:a)<60?(e.r=t,e.b=i,e.g=i+o):a<120?(e.g=t,e.b=i,e.r=t-o):a<180?(e.g=t,e.r=i,e.b=i+o):a<240?(e.b=t,e.r=i,e.g=t-o):a<300?(e.b=t,e.g=i,e.r=i+o):a<360?(e.r=t,e.g=i,e.b=t-o):(e.r=0,e.g=0,e.b=0)),{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}},O=function(t){return t=z(t),a=[t.r.toString(16),t.g.toString(16),t.b.toString(16)],c.each(a,function(t,e){1==e.length&&(a[t]="0"+e)}),a.join("");var a},Y=function(){var t=c(this).parent(),e=t.data("colpick.ae897a7d").origColor;t.data("colpick.ae897a7d").color=e,i(e,t.get(0)),l(e,t.get(0)),o(e,t.get(0)),n(e,t.get(0)),d(e,t.get(0)),p(e,t.get(0))},{init:function(a){if("string"==typeof(a=c.extend({},t,a||{})).color)a.color=P(a.color);else if(a.color.r!=undefined&&a.color.g!=undefined&&a.color.b!=undefined)a.color=N(a.color);else{if(a.color.h==undefined||a.color.s==undefined||a.color.b==undefined)return this;a.color=C(a.color)}return this.each(function(){var t,e;c(this).data("colpickId")||((t=c.extend({},a)).origColor=a.color,e="collorpicker_"+parseInt((new Date).getTime()),c(this).data("colpickId",e),(e=c('<div class="colpick_all"><div class="colpick_color"><div><div></div></div></div><div class="colpick_hue"><div></div></div><div class="colpick_new_color"></div><div class="colpick_current_color hidden"></div><div class="colpick_hex_field hidden"><div>#</div><input type="text" maxlength="6" size="6" /></div><div class="colpick_rgb_r colpick_field"><div>R</div><input id="rgb_r" type="text" maxlength="3" size="3" /></div><div class="colpick_rgb_g colpick_field"><div>G</div><input id="rgb_g" type="text" maxlength="3" size="3" /></div><div class="colpick_rgb_b colpick_field"><div>B</div><input id="rgb_b" type="text" maxlength="3" size="3" /></div><div class="colpick_hsb_h colpick_field"><div>H</div><input type="text" maxlength="3" size="3" /></div><div class="colpick_hsb_s colpick_field"><div>S</div><input type="text" maxlength="3" size="3" /></div><div class="colpick_hsb_b colpick_field"><div>B</div><input type="text" maxlength="3" size="3" /></div><div class="colpick_submit"></div></div>').attr("id",e)).addClass("colpick_"+t.layout+(t.submit?"":" colpick_"+t.layout+"_ns")),"light"!=t.colorScheme&&e.addClass("colpick_"+t.colorScheme),e.find("div.colpick_submit").html(t.submitText).click(w),t.fields=e.find("input").change(s).blur(h).focus(u),e.find("span").mousedown(f).end().find(">div.colpick_current_color").click(Y),t.selector=e.find("div.colpick_color").mousedown(b),t.selectorIndic=t.selector.find("div div"),t.el=this,t.hue=e.find("div.colpick_hue div"),e.find("div.colpick_hue").mousedown(v),t.newColor=e.find("div.colpick_new_color"),t.currentColor=e.find("div.colpick_current_color"),e.data("colpick.ae897a7d",t),i(t.color,e.get(0)),o(t.color,e.get(0)),l(t.color,e.get(0)),d(t.color,e.get(0)),n(t.color,e.get(0)),r(t.color,e.get(0)),p(t.color,e.get(0)),t.flat?(e.appendTo(this).show(),e.css({position:"relative",display:"none"})):(e.appendTo(document.body),c(this).on(t.showEvent,y),e.css({position:"absolute"})))})},showPicker:function(){return this.each(function(){c(this).data("colpickId")&&y.apply(this)})},hidePicker:function(){return this.each(function(){c(this).data("colpickId")&&c("#"+c(this).data("colpickId")).hide()})},setColor:function(e){if("string"==typeof e)e=P(e);else if(e.r!=undefined&&e.g!=undefined&&e.b!=undefined)e=N(e);else{if(e.h==undefined||e.s==undefined||e.b==undefined)return this;e=C(e)}return this.each(function(){var t;c(this).data("colpickId")&&((t=c("#"+c(this).data("colpickId"))).data("colpick.ae897a7d").color=e,t.data("colpick.ae897a7d").origColor=e,i(e,t.get(0)),o(e,t.get(0)),l(e,t.get(0)),d(e,t.get(0)),n(e,t.get(0)),r(e,t.get(0)),p(e,t.get(0)))})}});c.fn.extend({colpick:e.init,colpickHide:e.hidePicker,colpickShow:e.showPicker,colpickSetColor:e.setColor})}(jQuery);